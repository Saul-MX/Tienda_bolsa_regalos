---
//Verificacion de cambios üëç


// Importaciones de componentes
import Cart from "../components/Cart.astro";
//Impoertaciones de iconos
import MenuIcon from "../assets/Menu.astro";
import BolsaRegaloIcon from "../assets/BolsaRegalo.astro";
import CloseIcon from "../assets/Close.astro";
import HomeIcon from "../assets/Home.astro";
import ProductosIcon from "../assets/Productos.astro";

const currentPath = Astro.url.pathname;
const base = import.meta.env.BASE_URL.replace(/\/$/, ''); 
---
<!-- Sidebar lateral izquierdo para celulares-->
<aside id="sidebar" class="fixed top-0 right-0 h-full w-72 z-50 bg-neutral-50 shadow-2xl flex flex-col md:hidden">
    
    <!-- Cabecera del menu de "Celular" -->
    <div class="flex items-center justify-between h-16 border-b border-amber-400/30" style="padding: 0 20px;">
        <a href={`${base}`} class="flex items-center gap-2 text-neutral-800 font-bold text-lg" class:list={["", { active: currentPath === `${base}` }]}>
            <div class="w-8 h-8 bg-amber-400 rounded-lg flex items-center justify-center text-white text-base">
                <!--Icon de bolsa de regalso -->
                <BolsaRegaloIcon />
            </div>
            <span>Bolsas de Regalo</span>
        </a>
        <button id="close-sidebar" class="w-8 h-8 flex items-center justify-center text-stone-400 hover:text-neutral-800 transition-colors rounded-md hover:bg-amber-400/10">
            <!-- Icono de cerrar menu -->
            <CloseIcon />
        </button>
    </div>
    
    <!-- Links de navegaci√≥n en "Celular" -->
    <nav class="flex flex-col gap-1 flex-1" style="padding: 20px 16px;">
        <a href={`${base}`} class="flex items-center gap-3 rounded-xl text-base font-semibold text-stone-500 hover:text-neutral-800 hover:bg-amber-400/10 transition-colors sidebar-link" class:list={["", { active: currentPath === `${base}` }]} style="padding: 12px 16px;">
            <HomeIcon class="w-5 h-5 text-stone-400"/>
            Inicio
        </a>
        <a href={`${base}/productos`} class="flex items-center gap-3 rounded-xl text-base font-semibold text-stone-500 hover:text-neutral-800 hover:bg-amber-400/10 transition-colors sidebar-link" class:list={["", { active: currentPath === `${base}/productos` }]} style="padding: 12px 16px;">
            <ProductosIcon class="w-5 h-5 text-stone-400"/>
            Productos
        </a>
    </nav>
    
    <!-- Footer del sidebar -->
    <div class="border-t border-amber-400/20 text-xs text-stone-400 text-center" style="padding: 16px 20px;">
        ¬© 2026 Bolsas de Regalo
    </div>
</aside>

<!-- Header principal de PC -->
<header class="fixed top-0 left-0 right-0 z-30 bg-neutral-200/90 border-b border-amber-400/30" style="backdrop-filter: blur(14px);">
    <div class="max-w-7xl sm:px-8 h-16 flex items-center justify-between" style="padding: 0 20px; margin: 0 auto;">
        
        <!-- Hamburguesa -->
        <div class="flex items-center gap-3">
        
            <a href="/" class="flex items-center gap-2 text-neutral-800 font-bold text-xl cursor-pointer" class:list={["", { active: currentPath === "/" }]}>
                <div class="w-8 h-8 bg-amber-400 rounded-lg flex items-center justify-center text-white text-base">
                <!--Icon de bolsa de regalos -->
                <BolsaRegaloIcon />
            </div>
                Bolsas de Regalo

            </a>

        </div>
    
        <!-- Nav Desktop -->
        <nav class="hidden md:flex items-center gap-8 font-semibold text-stone-400">
            <a href={`${base}`} class="hover:text-neutral-800 transition-colors text-base text-stone-500" class:list={["", { active: currentPath === `${base}` }]}>Inicio</a>
            <a href={`${base}/productos`} class="hover:text-neutral-800 transition-colors text-base text-stone-500" class:list={["", { active: currentPath === `${base}/productos` }]}>Productos</a>
        </nav>
    
        <!-- Carrito -->
        <div class="flex justify-center items-center gap-4">

            <Cart />
            <button
                id="menu-toggle"
                class="hamburger md:hidden flex flex-col justify-center items-center w-9 h-9 gap-[5px] rounded-md hover:bg-amber-400/10 transition-colors"
                aria-label="Abrir men√∫"
                aria-expanded="false"
                >
                <MenuIcon />
            </button>
            
        </div>
    </div>

</header>

<script src="../JS/menu.js"></script>

<style>
    #sidebar {
      transform: translateX(100%);
      transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }
    #sidebar.open
     {
      transform: translateX(0);
    }
</style>